{% load static socialaccount account %}

<div class="column calendar">
   <!-- _________ SETTINGS __________ -->
   <div class="calendar__settings">
      <button id="changeTheme">
         <i class="fa-regular fa-moon"></i>
      </button>
      <button id="addMoreAccounts">
         +
      </button>
      <button id="openSettings">
         <i class="fa-solid fa-gear"></i>
      </button>
      <a href="{% url 'base:sign-out' %}">
         <i class="fa-solid fa-right-from-bracket"></i>
      </a>
   </div>

   <!-- _________ CALENDAR __________ -->
   <div class="calendar__calendar">
      <div class="calendar__header" id="calendar_header"></div>
      <div class="calendar__body" id="calendar_body"></div>
   </div>

   <!-- _________ MOTIVATION __________ -->
   <div class="calendar__motivation">
      <div class="calendar__motivation__type">
         <select name="motivation__type" id="motivation_type">
            <option value="text">text</option>
            <option value="image">image</option>
         </select>
      </div>
      <div class="calendar__motivation__place">
         <textarea name="" id="">THIS CAN BE YOUR MOTIVATION OR USEFUL TEXT</textarea>
      </div>
   </div>

   <!-- _________ FOOTER __________ -->
   <div class="calendar__footer">
      <div class="calendar__footer__line">
         <button id="natureSounds">Nature Sounds</button>
         <button id="focusMode">Focus Mode</button>
      </div>
      <div class="calendar__footer__line">
         <button id="fullScreen">Full Screen</button>
         <button id="chillMode"> Chill Mode</button>
      </div>
   </div>

</div>

<div class="accounts" style='display: none; opacity: 0'>
   <div class="accounts__header">
      <h3>Added Accounts</h3>
      <button class="btn close__accounts"><i class="fa-solid fa-xmark"></i></button>
   </div>
   <div class="accounts__body">
   {% if user.socialaccount_set.all %}
      {% for account in user.socialaccount_set.all %}
        {% if account.provider == 'google' %}
            <i class="fa-brands fa-google icon" ></i>
         {% elif account.provider == 'github' %}
         <i class="fa-brands fa-github icon"></i>
         {% elif account.provider == 'trello' %}
         <i class="fa-brands fa-trello"></i>
         {% elif account.provider == 'facebook' %}
         <i class="fa-brands fa-square-facebook"></i>
         {% elif account.provider == 'github' %}
         <i class="fa-brands fa-github"></i>
         {% endif %} 
      {% endfor %}
   {% else %}
      <p>No connected accounts.</p>
   {% endif %}
      <p>{{access_token}}</p>
   </div> 
   <div class="accounts__header">
      <h3>Add Other Accounts</h3>
      <span></span>
   </div>
   <a href="{% url 'socialaccount_connections' %}">Connect Social Account</a>
</div>

<div class="settings" style='display: none; opacity: 1'>
   <div class="accounts__header">
      <h3>Settings</h3>
      <button class="close__settings"><i class="fa-solid fa-xmark"></i></button>
   </div>
   <form class="accounts__body" method="POST" id="settingsForm">   
      {% csrf_token %}
      <div class="account__body__line">
         <label>Email:</label>
         <input 
            type="email" 
            name="email"
            placeholder="Enter your email..."
            value="{{ request.user.email }}" />
      </div>
      
      <div class="account__body__line">
         <label>Password: </label>
         <input 
            type="password" 
            name="password"
            placeholder="Enter a new password..." />
      </div>
      <div class="account__body__line">
         <label>Show Calendar: </label>
         <input 
            type="checkbox"
            name="show_calendar"
            class="check__calendar" />
      </div>
      <div class="account__body__line">
         <button class="btn">Save</button>
         <a class="btn btn--del" href="/delete-account">Delete Account</a>
      </div>
      <div class="account__body__docs">
         <a href="{% url 'privacy' %}">Privacy Police</a>
         <a  href="{% url 'terms' %}">Terms of use</a>
        <a href="{% url 'delete-instructions' %}" >Delete instructions</a>
      </div>
   </form>
</div>

{% comment %} 
<script src="{% static 'js/components/settings.js' %}" ></script>
<script src="{% static 'js/components/changeTheme.js' %}" ></script>
<script src="{% static 'js/components/music.js' %}" ></script>
<script src="{% static 'js/components/showForm.js' %}" ></script> {% endcomment %}

<script src="{% static 'js/accounts.js' %}" ></script>
<script src="{% static 'js/components/calendar.js' %}" ></script>
<script src="{% static 'js/components/fullscreen.js' %}" ></script>
<script src="{% static 'js/components/focusMode.js' %}" ></script>
<script src="{% static 'js/components/chill_mode.js' %}" ></script>
